function DashboardChartAlertCreateController(a,b,c,d,e,f){var g=this,h={eq:"Equal",ne:"Not equal",ge:"Greater or equal",gt:"Greater than",le:"Lesser or equal",lt:"Lesser than",startswith:"Starts with",endswith:"Ends with",contains:"Contains"},i={},j={__AND__:"All met (composite rule)",__OR__:"One met (composite rule)"};g.ruleDefinitions={fieldOps:i,allOps:h,possibleFields:j},g.name="",g.defaultRule={field:"__AND__",rules:[{op:"gt",field:null}]},g.result=null,g.createRule=function(){e.save({chart_id:a.params.chartId},{chart_id:a.params.chartId,name:g.name,rule:g.defaultRule,mappings:g.result.system_labels},function(a){g.actions.push(a)})},g.previewRule=function(){var c={chart_id:a.params.chartId,name:g.name,rule:g.defaultRule,mappings:g.result.system_labels};d.save({key:"data_rule_config",chartId:a.params.chartId},c,function(a){return"undefined"!=typeof a.series&&(result=b(a),g.chartC3Data=result.chartC3Data,g.chartC3Config=result.chartC3Config,g.labelPairs=_.pairs(a.system_labels),g.result=a,_.each(g.labelPairs,function(a){j[a[0]]=a[1].human_label,i[a[0]]=["ge","gt","lt","le","eq"]}),g.labelPairs.length>0&&(g.defaultRule.rules[0].field=g.labelPairs[0][0]),void(g.loading.series=!1))})},g.dataLoaded=function(){return _.every(_.values(g.loading),function(a){return a===!1})},g.loading={dashboard:!0,series:!0,rules:!0,channels:!0},g.actions=e.query({chart_id:a.params.chartId},function(a){g.loading.rules=!1}),c.get({resourceId:a.params.resourceId},function(c){g.loading.dashboard=!1,g.resource=c,g.chartConfig=c.chart_config[a.params.chartId],d.get({key:"data",chartId:a.params.chartId},function(a){return"undefined"!=typeof a.series&&(result=b(a),g.chartC3Data=result.chartC3Data,g.chartC3Config=result.chartC3Config,g.labelPairs=_.pairs(a.system_labels),g.result=a,_.each(g.labelPairs,function(a){j[a[0]]=a[1].human_label,i[a[0]]=["ge","gt","lt","le","eq"]}),g.labelPairs.length>0&&(g.defaultRule.rules[0].field=g.labelPairs[0][0]),void(g.loading.series=!1))})}),g.alertChannels=f.query({key:"alert_channels"},function(a){g.loading.channels=!1})}function DashboardChartUpdateController(a,b,c,d,e,f,g,h,i,j){var k=this;k.applications=i.AeUser.applications_map,k.loading={dashboard:!0},k._=c,k.timeOptions={};var l=["1m","5m","30m","1h","4h","12h","24h","3d","1w","2w","1M"];c.each(l,function(a){l.indexOf(a)!==-1&&(k.timeOptions[a]=j.timeOptions[a])}),k.commonTags=[],k.commonNamespaces=[],k.commonValues={},k.timeRanges=j.timeOptions,k.startMoments={week_end:"Week end",month_end:"Month end",day_end:"Today (Day end)",now:"Visit time"},k.startMomentUnit={minutes:"Minutes",hours:"Hours",days:"Days",months:"Months"},k.dataSources={logs:"Log entries",metrics:"Metrics"};var m=function(a,b){var d=c.keys(b.config);d.push("field"),c.each(c.keys(a.config),function(b){d.indexOf(b)===-1&&"label"!=b&&delete a.config[b]}),c.each(d,function(c){!a.config[c]&&b.config[c]&&(a.config[c]=b.config[c])}),b.uiSettings&&(b.uiSettings.deepAggs||(a.deepAggEnabled=!1))},n=0;k.metricFilterTypes=[{type:"tag",name:"Tag"},{type:"namespace",name:"Namespace"},{type:"level",name:"Level"}],k.filterChange=function(a){a.value=""},k.chartTypes=[{type:"bar",name:"Bar Chart"},{type:"line",name:"Line Chart"},{type:"area",name:"Area Chart"},{type:"step",name:"Step Chart"},{type:"pie",name:"Pie Chart"},{type:"donut",name:"Donut Chart"},{type:"gauge",name:"Gauge Chart"}],k.operators=[["eq","="],["gt",">"],["gte",">="],["lt","<"],["lte","<="]],k.ar_operators=[["+","+"],["-","-"],["*","*"],["/","/"]],k.aggTypes=[{type:null,name:"No",config:{interval:null}},{type:"time_histogram",name:"Timeseries histogram",config:{interval:"24h",order_by:null}},{type:"terms",name:"Terms",config:{size:10,order_by:null}}],k.subAggTypes=[{type:"terms",name:"Term names",config:{size:10},uiSettings:{deepAggs:!0}},{type:"percentiles",name:"Percentiles",config:{},uiSettings:{deepAggs:!1}},{type:"min",name:"Minimum",config:{},uiSettings:{deepAggs:!1}},{type:"max",name:"Maximum",config:{},uiSettings:{deepAggs:!1}},{type:"sum",name:"Sum",config:{},uiSettings:{deepAggs:!1}},{type:"avg",name:"Average",config:{},uiSettings:{deepAggs:!1}},{type:"value_count",name:"Value Count",config:{}},{type:"cardinality",name:"Cardinality",config:{}}],k.subDeepAggTypes=[{type:"min",name:"Minimum",config:{}},{type:"max",name:"Maximum",config:{}},{type:"sum",name:"Sum"},{type:"avg",name:"Average",config:{}},{type:"value_count",name:"Value Count",config:{}},{type:"cardinality",name:"Cardinality",config:{}}],k.groupingTypes=[{type:null,name:"None"},{type:"namespace",name:"Namespace"},{type:"tag",name:"Tag"}],k.postProcessTypes=[{type:"acumulate",name:"Acumulated",config:{}}],k.forms={sub_agg:{type:k.subAggTypes[0].type,field:"",deepAgg:null,computed:!1,computed_fields:[]}},k.chartConfig={resource:i.AeUser.applications[0].resource_id,datasource:"logs",timeRange:"1M",startMoment:"now",startMomentValue:0,startMomentUnit:"days",parentAgg:{type:k.aggTypes[0].type,config:{}},chartType:{type:k.chartTypes[0].type,config:{}},postProcess:{type:null,config:{}},aggs:[]},k.name="",k.dashboard=null,e.get({resourceId:a.params.resourceId},function(b){k.loading.dashboard=!1,k.dashboard=b;var d=[];k.name=b.chart_config[a.params.chartId].name,null!=b.chart_config[a.params.chartId].config?(k.chartConfig=b.chart_config[a.params.chartId].config,k.chartConfig.resource=Number(k.chartConfig.resource),c.each(k.chartConfig.aggs,function(a){o(a.id);try{d.push(Number(a.id))}catch(b){}})):k.addAggregation(),c.isEmpty(d)||(n=c.max(d)+1),k.getCommonKeys()}),k.isLoading={series:!0};var o=function(a){c.each([a,"d"+a],function(a){k.forms[a]={name:"",value:"",op:k.operators[0][0],computed_op:k.ar_operators[0][0],computed_field:""}})};k.addAggregation=function(){var a=(n++).toString(),b={id:a,type:k.forms.sub_agg.type,grouping:!1,computed:!1,computed_fields:[{op:null,field:k.forms.sub_agg.field}],filters:[],deepAggEnabled:!1,deepAgg:{id:"d"+a,type:k.subDeepAggTypes[2].type,computed:!1,computed_fields:[{op:null,field:k.forms.sub_agg.field}],filters:[],config:{field:k.forms.sub_agg.field}},config:{field:k.forms.sub_agg.field}};k.chartConfig.aggs.push(b),k.forms.sub_agg.type=k.subAggTypes[0].type,k.forms.sub_agg.field="",o(a)},k.AggTypeChanged=function(a,b){var d=c.find(b,function(b){return b.type===a.type});m(a,d)},k.setComputed=function(a){a.computed=!a.computed,a.computed&&(a.deepAggEnabled=!1)},k.setDeepAgg=function(a){a.deepAggEnabled=!a.deepAggEnabled,a.deepAggEnabled&&(a.computed=!1)},k.addComputedField=function(a){a.computed_fields.push({op:k.forms[a.id].computed_op,field:k.forms[a.id].computed_field}),k.forms[a.id].computed_field=""},k.removeComputedField=function(a,b){a.computed_fields=c.filter(a.computed_fields,function(a){return a!=b})},k.setParentBucketOrdering=function(a){var b=k.chartConfig.parentAgg.config;null==b.order_by||b.order_by.agg!=a.id?b.order_by={agg:a.id,order:"asc"}:b.order_by.agg==a.id&&"asc"==b.order_by.order?b.order_by.order="desc":b.order_by=null},k.setAggregationGrouping=function(a){a.grouping=!a.grouping},k.removeAggregation=function(a){k.chartConfig.aggs=c.filter(k.chartConfig.aggs,function(b){return b!=a});var b=k.chartConfig.parentAgg.config;b.order_by&&b.order_by.agg==a.id&&(b.order_by=null)},k.addFilterToAgg=function(a){a.filters.push({type:"tag",name:k.forms[a.id].name,value:k.forms[a.id].value.toString(),op:k.forms[a.id].op})},k.removeFilterFromAgg=function(a,b){a.filters=c.filter(a.filters,function(a){return a!=b})},k.saveChartData=function(){f.update({chartId:a.params.chartId},{name:k.name,config:k.chartConfig},function(a){})},k.testChartData=function(){k.chartC3Config={},k.chartC3Data={},k.isLoading.series=!0,g.save({key:"data_test_config",chartId:a.params.chartId},k.chartConfig,function(a){return"undefined"!=typeof a.series&&(result=d(a),k.chartC3Data=result.chartC3Data,k.chartC3Config=result.chartC3Config,void(k.isLoading.series=!1))})},k.getCommonKeys=function(){h.get({section:"logs_section",view:"common_tags",datasource:k.chartConfig.datasource,resource:k.chartConfig.resource},function(a){k.commonTags=a.tags,k.commonNamespaces=a.namespaces})},k.getCommonValues=function(a,b){var d=[];c.each(a.filters,function(a){"namespace"==a.type&&d.push(a.value)}),"eq"===b.op&&"tag"===b.type&&h.get({section:"logs_section",view:"common_values",datasource:k.chartConfig.datasource,resource:k.chartConfig.resource,namespace:d,tag:b.name},function(c){var d=a.id+"."+b.name;k.commonValues[d]=c.values})},k.showJSON=function(){var a={backdrop:"static",templateUrl:"chartUpdateJSONConfig.html",controller:"chartUpdateJSONConfigCtrl as ctrl",size:"lg",bindToController:!0,resolve:{parent:function(){return k}}},c=b.open(a);c.result.then(function(a){},function(){console.info("Modal dismissed at: "+new Date)})}}function chartUpdateJSONConfigCtrl(a,b){var c=this;c.jsonConfig=angular.toJson(b.chartConfig,!0),c.ok=function(){b.chartConfig=angular.fromJson(c.jsonConfig),a.dismiss("cancel")},c.cancel=function(){a.dismiss("cancel")}}function DashboardsIndexController(a,b){var c=this;c.dashboards=[],c.loading={dashboard:!0},a.get({},c.chartConfig,function(a){c.viewable_dashboards=a.viewable_dashboards,c.owned_dashboards=a.owned_dashboards,c.loading.dashboard=!1}),c.markPublic=function(a){b.update({resourceId:a.resource_id},{"public":!a["public"]},function(b){a["public"]=b["public"]})}}function DashboardUpdateController(a,b,c,d,e,f,g,h){var i=this;i.loading={dashboard:!1},i.stateHolder=b;var j=[{name:"First row",columns:[{saved:!1,name:"Title 1 - Full Width",width:0,chartId:c.genUUID4()}]}];determineWidth=function(a){var b=12;return 2==a.columns.length?b=6:3==a.columns.length?b=4:4==a.columns.length&&(b=3),b},d.each(j,function(a){var b=determineWidth(a);d.each(a.columns,function(a){a.width=b})});var k=a.params.resourceId;"new"==k?i.resource={resource_id:null,resource_name:"New Title",layoutConfig:j,chartConfig:{},chartData:{}}:(i.loading.dashboard=!0,i.resource=f.get({resourceId:k},function(a){i.loading.dashboard=!1,i.resource.layoutConfig=a.layout_config,i.resource.chartConfig=a.chart_config,i.resource.chartData={},d.each(i.resource.layoutConfig,function(a){d.each(a.columns,function(a){a.saved=!0})});for(var b in i.resource.chartConfig){i.resource.chartData[b]={name:"",loading:!0,data:{},config:{}};var c=function(a){var b=function(b){if("undefined"==typeof b.series)return!1;var c=e(b);i.resource.chartData[a].name=b.name,i.resource.chartData[a].data=c.chartC3Data,i.resource.chartData[a].config=c.chartC3Config,i.resource.chartData[a].loading=!1};return b};h.get({key:"data",chartId:b},c(b))}})),i.updateWidth=function(a){var b=determineWidth(a);d.each(a.columns,function(a){a.width=b})},i.rowRemove=function(a){i.resource.layoutConfig.splice(a,1)},i.rowAdd=function(){i.resource.layoutConfig.length<7&&(i.resource.layoutConfig.push({name:"New Row",columns:[]}),i.columnAdd(i.resource.layoutConfig.length-1))},i.columnRemove=function(a,b){i.resource.layoutConfig[a].columns.splice(b,1),i.updateWidth(i.resource.layoutConfig[a])},i.chartMoveLeft=function(a,b){if(b>0){var c=i.resource.layoutConfig[a].columns[b],d=i.resource.layoutConfig[a].columns[b-1];i.resource.layoutConfig[a].columns[b-1]=c,i.resource.layoutConfig[a].columns[b]=d}},i.chartMoveRight=function(a,b){if(b<i.resource.layoutConfig[a].columns.length-1){var c=i.resource.layoutConfig[a].columns[b],d=i.resource.layoutConfig[a].columns[b+1];i.resource.layoutConfig[a].columns[b+1]=c,i.resource.layoutConfig[a].columns[b]=d}},i.chartMoveDown=function(a,b){for(var c=a,d=i.resource.layoutConfig[a],e=d.columns[b];;){if(c++,c+1>i.resource.layoutConfig.length)break;var f=i.resource.layoutConfig[c];if(f.columns.length<4){i.resource.layoutConfig[a].columns.splice(b,1),f.columns.push(e),i.updateWidth(f),i.updateWidth(d);break}}},i.chartMoveUp=function(a,b){for(var c=a,d=i.resource.layoutConfig[a],e=d.columns[b];;){if(c--,c<0)break;var f=i.resource.layoutConfig[c];if(f.columns.length<4){i.resource.layoutConfig[a].columns.splice(b,1),f.columns.push(e),i.updateWidth(f),i.updateWidth(d);break}}},i.columnAdd=function(a){i.resource.layoutConfig[a].columns.length<4&&(i.resource.layoutConfig[a].columns.push({name:"New Column",width:0,chartId:c.genUUID4()}),i.updateWidth(i.resource.layoutConfig[a]))},i.dashboardRemove=function(){f["delete"]({resourceId:k},{},function(b){a.go("dashboard.list")})},i.saveForm=function(){var b={resource_name:i.resource.resource_name,layout_config:i.resource.layoutConfig};null===i.resource.resource_id?g.save({},b,function(b){a.go("dashboard.update",{resourceId:b.resource_id})}):f.update({resourceId:i.resource.resource_id},b,function(a){d.each(i.resource.layoutConfig,function(a){d.each(a.columns,function(a){a.saved=!0})})})},i.editChart=function(b){a.go("dashboard.chart",{resourceId:i.resource.resource_id,chartId:b.chartId})},i.editChartAlert=function(b){a.go("dashboard.chart_alert",{resourceId:i.resource.resource_id,chartId:b.chartId})}}function DashboardController(a,b,c,d,e,f){var g=this,h=[];g.loading={dashboard:!0},g.resource=f.get({resourceId:c.params.resourceId},function(a){g.loading.dashboard=!1,g.resource.layoutConfig=a.layout_config,g.resource.chartConfig=a.chart_config,g.resource.chartData={};for(var c in g.resource.chartConfig){var f={name:"",chartId:c,loading:!0,refreshing:!1,data:{},config:{},fetchFunc:function(){var a=this;a.refreshing=!0,e.get({key:"data",chartId:a.chartId},function(b){if("undefined"==typeof b.series)return!1;var c=d(b);a.name=b.name,a.data=c.chartC3Data,a.config=c.chartC3Config,a.loading=!1,a.refreshing=!1})},iv:null};f.fetchFunc();var i=b(angular.bind(f,f.fetchFunc),3e4);g.resource.chartData[c]=f,h.push(i)}}),a.$on("$locationChangeSuccess",function(){console.info("clearing intervals"),_.each(h,function(a){b.cancel(a)})})}angular.module("appenlight.templates").run(["$templateCache",function(a){"use strict";a.put("/ae_charting_ee/templates/dashboards/alert_create.html",'<ng-include src="\'templates/loader.html\'" ng-if="!alert_ctrlr.dataLoaded()"></ng-include>\n\n<div ng-if="alert_ctrlr.dataLoaded()">\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <c3chart data-domid="chart" data-data="alert_ctrlr.chartC3Data" data-config="alert_ctrlr.chartC3Config">\n            </c3chart>\n        </div>\n    </div>\n\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <div class="form-group">\n                <label>Name</label><input class="form-control" type="text" ng-model="alert_ctrlr.name" placeholder="Name of your rule">\n            </div>\n            <rule rule="alert_ctrlr.defaultRule" rule-definitions="alert_ctrlr.ruleDefinitions" parent-rule="null" parent-obj="null" config="{disable_subrules:false}"></rule>\n            <a class="btn btn-info" ng-click="alert_ctrlr.previewRule()">Preview Rule</a>\n            <a class="btn btn-success" ng-click="alert_ctrlr.createRule()">Create Rule</a>\n        </div>\n    </div>\n\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <div ng-repeat="action in alert_ctrlr.actions">\n                <chart-alert-action action="action" actions="alert_ctrlr.actions" rule-definitions="alert_ctrlr.ruleDefinitions" possible-channels="alert_ctrlr.alertChannels"/>\n            </div>\n        </div>\n    </div>\n</div>\n'),a.put("/ae_charting_ee/templates/dashboards/breadcrumbs.html",'<ol class="breadcrumb">\n    <li>Dashboards</li>\n    <li ng-show="$state.includes(\'dashboard.list\')" ng-class="{bold:$state.is(\'dashboard.list\')}">Dashboards list</li>\n    <li ng-show="$state.includes(\'dashboard.update\')" ng-class="{bold:$state.is(\'dashboard.update\')}">Modify dashboard</li>\n    <li ng-show="$state.includes(\'dashboard.chart\')" ng-class="{bold:$state.is(\'dashboard.chart\')}">Modify chart</li>\n</ol>\n'),a.put("/ae_charting_ee/templates/dashboards/chart_update.html",'<script type="text/ng-template" id="chartUpdateJSONConfig.html">\n\n    <div class="modal-body">\n\n        <textarea class="well" ng-model="ctrl.jsonConfig" style="width:100%; height: 350px">\n        </textarea>\n\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-warning" ng-click="ctrl.ok()">Load from JSON</button>\n        <button class="btn btn-warning" ng-click="ctrl.cancel()">Close</button>\n    </div>\n</script>\n\n<ng-include src="\'templates/loader.html\'" ng-if="chart.loading.dashboard === true"></ng-include>\n\n\n<div ng-show="!chart.loading.dashboard">\n\n\n    <div class="panel panel-default">\n        <div class="panel-heading" ng-include="\'/ae_charting_ee/templates/dashboards/breadcrumbs.html\'"></div>\n        <div class="panel-body">\n            <form class="form-horizontal agg-form" novalidate name="aggForm">\n\n                <div class="form-group">\n                    <label class="control-label col-sm-3 col-lg-2">Name:</label>\n\n                    <div class=" col-sm-9 col-lg-10 form-inline">\n                        <input type="text" name="name" ng-model="chart.name" class="form-control row-title" placeholder="Chart name">\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="control-label col-sm-3 col-lg-2">Application:</label>\n\n                    <div class=" col-sm-9 col-lg-10 form-inline">\n                        <select ng-model="chart.chartConfig.resource" ng-change="chart.getCommonKeys()" ng-options="r.resource_id as r.resource_name for r in stateHolder.AeUser.applications" class="SelectField form-control input-sm"></select>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="control-label col-sm-3 col-lg-2">Data source:</label>\n\n                    <div class=" col-sm-9 col-lg-10 form-inline">\n                        <select ng-model="chart.chartConfig.datasource" ng-change="chart.getCommonKeys()" ng-options="key as value for (key, value) in chart.dataSources" class="SelectField form-control input-sm"></select>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="control-label col-sm-3 col-lg-2">Chart Type</label>\n\n                    <div class=" col-sm-9 col-lg-10 form-inline">\n                        <select ng-model="chart.chartConfig.chartType.type" ng-options="item.type as item.name for item in chart.chartTypes" class="form-control"></select>\n                    </div>\n                </div>\n\n\n                <div class="form-group">\n                    <label class="control-label col-sm-3 col-lg-2">Create data buckets with:</label>\n\n                    <div class=" col-sm-9 col-lg-10 form-inline">\n                        <select ng-model="chart.chartConfig.parentAgg.type" ng-options="item.type as item.name for item in chart.aggTypes" class="form-control"\n                                ng-change="chart.AggTypeChanged(chart.chartConfig.parentAgg, chart.aggTypes)"></select>\n                        <input type="text" name="field_label" ng-model="chart.chartConfig.parentAgg.config.label" class="form-control" placeholder="Optional label">\n                    </div>\n                </div>\n\n\n                <div ng-show="chart.chartConfig.parentAgg.type == \'time_histogram\'" class="form-group">\n                    <label class="control-label col-sm-3 col-lg-2">Options</label>\n\n                    <div class=" col-sm-9 col-lg-10 form-inline">\n                        Interval size\n                        <select ng-model="chart.chartConfig.parentAgg.config.interval" ng-options="i.key as i.label for i in chart.timeOptions | objectToOrderedArray:\'minutes\'" class="form-control slim-input"></select>\n                    </div>\n                </div>\n                <div ng-show="chart.chartConfig.parentAgg.type == \'histogram\'" class="form-group">\n                    <label class="control-label col-sm-3 col-lg-2">Options</label>\n                    HISTOGRAM\n                </div>\n                <div ng-show="chart.chartConfig.parentAgg.type == \'terms\'" class="form-group">\n                    <label class="control-label col-sm-3 col-lg-2">Options</label>\n\n                    <div class=" col-sm-9 col-lg-10 form-inline">\n                        <input type="text" name="field_name" ng-model="chart.chartConfig.parentAgg.config.field" placeholder="Tag field to group on" uib-typeahead="tag for tag in chart.commonTags" class="form-control" autocomplete="off">\n                        Top N buckets:\n                        <input type="text" name="size" ng-model="chart.chartConfig.parentAgg.config.size" placeholder="Result size" class="form-control">\n                    </div>\n                </div>\n                </span>\n                <div ng-show="chart.chartConfig.parentAgg.type == \'range\'" class="form-group">\n                    <label class="control-label col-sm-3 col-lg-2">Options</label>\n                    RANGE\n                </div>\n                <div ng-show="chart.chartConfig.parentAgg.type == \'date_range\'" class="form-group">\n                    <label class="control-label col-sm-3 col-lg-2">Options</label>\n                    date RANGE\n                </div>\n\n                <div class="form-group">\n                    <label class="control-label col-sm-3 col-lg-2">Limit data to:</label>\n\n                    <div class="col-sm-9 col-lg-10 form-inline">\n                        <select ng-model="chart.chartConfig.timeRange" ng-options="i.key as i.label for i in chart.timeRanges | objectToOrderedArray:\'minutes\'" class="form-control slim-input"></select>\n\n                        till\n\n                        <select ng-model="chart.chartConfig.startMoment" ng-options="key as value for (key, value) in chart.startMoments" class="form-control slim-input">\n                        </select>\n\n                        minus\n\n                        <input type="text" name="size" ng-model="chart.chartConfig.startMomentValue" placeholder="Value" class="form-control slim-input">\n\n                        <select ng-model="chart.chartConfig.startMomentUnit" ng-options="key as value for (key, value) in chart.startMomentUnit" class="form-control slim-input">\n                        </select>\n\n\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="control-label col-sm-3 col-lg-2">Postprocess:</label>\n\n                    <div class="col-sm-9 col-lg-10 form-inline">\n                        <select ng-model="chart.chartConfig.postProcess.type" ng-options="item.type as item.name for item in chart.postProcessTypes" class="form-control">\n                            <option value="">None</option>\n                        </select>\n                    </div>\n                </div>\n\n\n                <div class="form-group">\n                    <label class="control-label col-sm-3 col-lg-2">Metrics</label>\n\n                    <div class="col-sm-9 col-lg-10 form-inline">\n                        <div ng-repeat="agg in chart.chartConfig.aggs">\n                            <div class="row">\n                                <div class="col-xs-6 m-b-1">\n\n                                    <div class="input-group">\n                                        <div class="input-group-addon">Aggregation type</div>\n                                        <select ng-model="agg.type" ng-options="item.type as item.name for item in chart.subAggTypes" class="form-control" ng-change="chart.AggTypeChanged(agg, chart.subAggTypes)"></select>\n                                    </div>\n\n                                </div>\n\n                                <div class="col-xs-6 text-right m-b-1">\n\n                                    <a class="btn btn-default btn-sm" data-uib-tooltip="Use computed value instead of field value" ng-click="chart.setComputed(agg)">\n                                        <span class="fa fa-th-list" style="{{!agg.computed ? \'opacity:0.3\' : \'\'}}"></span></a>\n                                    <a ng-show="agg.type == \'terms\'" class="btn btn-default btn-sm" data-uib-tooltip="Use additional aggregator to compute term value instead" ng-click="chart.setDeepAgg(agg)">\n                                        <span class="fa fa-level-down" style="{{!agg.deepAggEnabled ? \'opacity:0.3\' : \'\'}}"></span></a>\n                                    <a class="btn btn-default btn-sm" ng-click="chart.setAggregationGrouping(agg)" data-uib-tooltip="Group values together">\n                                        <span class="fa fa-align-justify" style="{{!agg.grouping ? \'opacity:0.3\' : \'\'}}"></span></a>\n                                    <a class="btn btn-default btn-sm" ng-click="chart.setParentBucketOrdering(agg)" data-uib-tooltip="Sort parent buckets on this metric">\n                                                <span class="fa" ng-class="{\'fa-arrow-circle-down\':chart.chartConfig.parentAgg.config.order_by.order == \'desc\',\'fa-arrow-circle-up\':chart.chartConfig.parentAgg.config.order_by.order != \'desc\'}"\n                                                      style="{{chart.chartConfig.parentAgg.config.order_by.agg != agg.id ? \'opacity:0.3\' : \'\'}}"></span></a>\n\n\n                                            <span class="dropdown pull-right" data-uib-dropdown on-toggle="toggled(open)">\n                                                <a class="btn btn-danger btn-sm" data-uib-dropdown-toggle><span class="fa fa-trash-o"></span></a>\n                                              <ul class="dropdown-menu">\n                                                  <li><a href>No</a></li>\n                                                  <li><a href ng-click="chart.removeAggregation(agg)">Yes</a></li>\n                                              </ul>\n                                            </span>\n\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="col-xs-12">\n\n                                    <div ng-show="agg.type == \'terms\'" class="m-b-1">\n                                        Top N buckets:\n                                        <input type="text" name="size" ng-model="agg.config.size" placeholder="Result size" class="form-control">\n                                    </div>\n\n                                    <div ng-show="!agg.computed">\n                                        <span>On field</span>\n\n                                        <input type="text" name="field_name" ng-model="agg.config.field" placeholder="Tag field to group on" uib-typeahead="tag for tag in chart.commonTags" class="form-control" autocomplete="off">\n                                        <input type="text" name="field_label" ng-model="agg.config.label" class="form-control" placeholder="Optional label">\n                                    </div>\n\n                                                <span ng-show="agg.computed">\n                                                <div ng-repeat="field in agg.computed_fields" class="m-b-1">\n\n                                                    <span ng-show="$first">On field</span>\n                                                    <select ng-show="!$first" ng-model="field.op" ng-options="o[0] as o[1] for o in chart.ar_operators" class="form-control slim-input"></select>\n                                                    <input type="text" name="field_name" ng-model="field.field" placeholder="Tag field to group on" uib-typeahead="tag for tag in chart.commonTags" class="form-control" autocomplete=“off”>\n                                                    <input ng-show="$first" type="text" name="field_label" ng-model="agg.config.label" class="form-control" placeholder="Optional label">\n\n                                                    <a class="btn btn-danger" ng-click="chart.removeComputedField(agg, field)" ng-show="!$first"><span class="fa fa-trash-o"></span></a>\n                                                </div>\n\n                                                    <a class="btn btn-info" ng-click="chart.addComputedField(agg)"><span class="fa fa-plus-circle"></span> Add another field</a>\n                                                </span>\n\n                                    <div ng-show="agg.deepAggEnabled" class="m-t-1">\n                                        <!--deep agg -->\n                                        <div class="input-group">\n                                            <div class="input-group-addon">Sub-aggregation type</div>\n                                            <select ng-model="agg.deepAgg.type" ng-options="item.type as item.name for item in chart.subDeepAggTypes" class="form-control slim-input"\n                                                    ng-change="chart.AggTypeChanged(agg.deepAgg, chart.subAggTypes)"></select>\n                                        </div>\n\n                                        <input type="text" name="field_name" ng-model="agg.deepAgg.config.field" placeholder="Tag field to group on" uib-typeahead="tag for tag in chart.commonTags" class="form-control" ng-show="!agg.deepAgg.computed" autocomplete=“off”>\n                                        <input type="text" name="field_label" ng-model="agg.deepAgg.config.label" class="form-control" placeholder="Optional label">\n\n\n                                        <a class="btn btn-default" data-uib-tooltip="Use computed value instead of field value" ng-click="chart.setComputed(agg.deepAgg)"> <span class="fa fa-th-list" style="{{!agg.deepAgg.computed ? \'opacity:0.3\' : \'\'}}"></span></a>\n\n                                                    <span ng-show="agg.deepAgg.computed">\n                                                            <div ng-repeat="field in agg.deepAgg.computed_fields" class="m-t-1 m-b-1">\n\n                                                                <span ng-show="$first">On field</span>\n\n                                                                <select ng-show="!$first" ng-model="field.op" ng-options="o[0] as o[1] for o in chart.ar_operators" class="form-control slim-input"></select>\n                                                                <input type="text" name="field_name" ng-model="field.field" placeholder="Tag field to group on" uib-typeahead="tag for tag in chart.commonTags" class="form-control" autocomplete=“off”>\n\n                                                                <a class="btn btn-danger" ng-click="chart.removeComputedField(agg.deepAgg, field)" ng-show="!$first"><span class="fa fa-trash-o"></span></a>\n                                                            </div>\n\n                                                            <a class="btn btn-info" ng-click="chart.addComputedField(agg.deepAgg)"><span class="fa fa-plus-circle"></span> Add another field</a>\n                                                   </span>\n\n                                        <!--deep agg -->\n                                    </div>\n\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="col-xs-12">\n                                    <p class="m-b-1 m-t-1">The aggregation will only use the data that matches following conditions:</p>\n\n                                    <div class="row m-b-1" ng-repeat="filter in agg.filters">\n\n                                        <div class="col-xs-11">\n\n                                            <select class="form-control slim-input"\n                                                    ng-model="filter.type"\n                                                    ng-change="chart.filterChange(filter)"\n                                                    ng-options="item.type as item.name for item in chart.metricFilterTypes"></select>\n\n\n                                            <input type="text" ng-model="filter.name" ng-change="chart.getCommonValues(agg, filter)" uib-typeahead="tag for tag in chart.commonTags" placeholder="Tag name" class="form-control slim-input" ng-show="filter.type == \'tag\'"\n                                                   autocomplete="off"/>\n\n                                            <select ng-model="filter.op" ng-options="o[0] as o[1] for o in chart.operators" class="form-control slim-input" ng-show="filter.type == \'tag\'"></select>\n\n                                            <input type="text" name="value" ng-model="filter.value" placeholder="Value" class="form-control" ng-show="filter.type != \'namespace\'" uib-typeahead="val for val in chart.commonValues[agg.id + \'.\' + filter.name]"/>\n\n                                            <input type="text" name="value" ng-model="filter.value" placeholder="Namespace to filter on" uib-typeahead="ns for ns in chart.commonNamespaces" class="form-control" ng-show="filter.type == \'namespace\'" autocomplete="off">\n\n                                        </div>\n                                        <div class="col-xs-1 text-right">\n                                            <a class="btn btn-danger" ng-click="chart.removeFilterFromAgg(agg, filter)"><span class="fa fa-trash-o"></span></a>\n                                        </div>\n\n                                    </div>\n\n                                    <div class="row">\n                                        <div class="col-sm-12">\n                                            <a class="btn btn-info" ng-click="chart.addFilterToAgg(agg)"><span class="fa fa-plus-circle"></span> Add new rule</a>\n                                        </div>\n                                    </div>\n\n                                </div>\n                            </div>\n\n                            <hr/>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="control-label col-sm-3 col-lg-2"></label>\n\n                    <div class=" col-sm-8 col-lg-10 form-inline">\n                        <a class="btn btn-info" ng-click="chart.addAggregation()">Add metric aggregation</a>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-4 col-lg-2"></label>\n\n                    <div class=" col-sm-8 col-lg-10">\n                        <a data-ui-sref=\'dashboard.update({resourceId: chart.dashboard.resource_id})\' class="btn btn-default"><span class="fa fa-arrow-circle-left"></span> Go Back</a>\n                        <a class="btn btn-info" ng-click="chart.testChartData()">Preview</a>\n                        <a class="btn btn-success" ng-click="chart.saveChartData()">Save</a>\n                        <a class="btn btn-default" ng-click="chart.showJSON()" data-uib-tooltip="Copy/Paste configs between charts"><span class="fa fa-file-code-o"> JSON</span></a>\n                    </div>\n                </div>\n\n            </form>\n\n            <c3chart ng-if="!chart.isLoading.series" data-domid="chart" data-data="chart.chartC3Data" data-config="chart.chartC3Config">\n            </c3chart>\n\n        </div>\n\n    </div>\n\n\n</div>\n\n'),
a.put("/ae_charting_ee/templates/dashboards/dashboard_update.html",'<div class="row">\n\n    <div class="col-sm-3" id="menu">\n\n        <div class="panel panel-default">\n            <div class="panel-heading">Manage dashboards</div>\n            <ul class="list-group">\n                <li class="list-group-item"><a data-ui-sref="dashboard.list"><span class="fa fa-arrow-circle-left"></span> Go Back</a></li>\n            </ul>\n        </div>\n    </div>\n\n    <div class="col-sm-9" ng-if="dashboards.loading.dashboard === true">\n        <ng-include src="\'templates/loader.html\'"></ng-include>\n    </div>\n\n    <div class="col-sm-9" ng-if="!dashboard.loading.dashboard">\n\n        <div class="panel panel-default">\n            <div class="panel-heading" ng-include="\'/ae_charting_ee/templates/dashboards/breadcrumbs.html\'"></div>\n            <div class="panel-body">\n\n                <form class="form-horizontal chart-layout-form">\n                    <div class="form-group">\n                        <label class="control-label col-sm-4 col-lg-3">Dashboard title</label>\n                        <div class="col-sm-8 col-lg-9">\n                            <input ng-model="dashboard.resource.resource_name" placeholder="New chart title" class="form-control row-title">\n                        </div>\n                    </div>\n                    <div class="form-group">\n                        <label class="control-label col-sm-4 col-lg-3"></label>\n                        <div class="col-sm-8 col-lg-9">\n                            <a class="btn btn-info" ng-click="dashboard.saveForm()">Save</a>\n\n                            <span class="dropdown" data-uib-dropdown on-toggle="toggled(open)">\n                                <a class="btn btn-danger" data-uib-dropdown-toggle><span class="fa fa-trash-o"></span></a>\n                              <ul class="dropdown-menu">\n                                  <li><a href>No</a></li>\n                                  <li><a href ng-click="dashboard.dashboardRemove(dashboard)">Yes</a></li>\n                              </ul>\n                            </span>\n\n                        </div>\n                    </div>\n\n                    <hr/>\n\n                    <div class="row" ng-repeat="row in dashboard.resource.layoutConfig">\n                        <div class="col-sm-12">\n\n                            <div class="form-group">\n                                <label class="control-label col-sm-4 col-lg-3">Row title</label>\n                                <div class="col-sm-8 col-lg-9">\n                                    <input type="text" ng-model="row.name" placeholder="Row name" class="form-control row-title">\n\n                                    <a class="btn btn-info btn-xs" ng-click="dashboard.columnAdd($index)"><span class="fa fa-plus-circle"></span> Add column</a>\n\n                                <span class="dropdown" data-uib-dropdown on-toggle="toggled(open)">\n                                    <a class="btn btn-danger btn-xs" data-uib-dropdown-toggle><span class="fa fa-trash-o"></span></a>\n                                  <ul class="dropdown-menu">\n                                      <li><a href>No</a></li>\n                                      <li><a href ng-click="dashboard.rowRemove($index)">Yes</a></li>\n                                  </ul>\n                                </span>\n\n                                </div>\n                            </div>\n\n\n                        </div>\n                        <div ng-repeat="column in row.columns" class="col-sm-{{column.width}}">\n                            <div class="panel panel-default">\n                                <div class="panel-heading">\n                                    {{dashboard.resource.chartData[column.chartId].name}}\n                                </div>\n                                <div class="panel-body text-center">\n                                    <div ng-if="dashboard.resource.chartData[column.chartId].loading === true">\n                                        <ng-include src="\'templates/loader.html\'"></ng-include>\n                                    </div>\n                                    <c3chart ng-if="dashboard.resource.chartData[column.chartId].loading === false"\n                                             data-domid="id_{{column.chartId}}"\n                                             data-data="dashboard.resource.chartData[column.chartId].data"\n                                             data-config="dashboard.resource.chartData[column.chartId].config"\n                                             data-resizetrigger="row.columns.length"\n                                    >\n                                    </c3chart>\n\n                                    <a class="btn btn-primary" ng-click="dashboard.editChart(column)" ng-if="column.saved">Configure chart</a>\n                                    <a class="btn btn-primary" ng-click="dashboard.editChartAlert(column)" ng-if="column.saved">Configure chart alerts</a>\n\n                                    <p ng-if="!column.saved">You need to save your dashboard to configure charts</p>\n                                </div>\n\n                                <div class="panel-footer">\n                                    <a class="btn btn-default btn-xs" ng-click="dashboard.chartMoveUp($parent.$index, $index)"><span\n                                            class="fa fa-arrow-circle-up"></span></a>\n                                    <a class="btn btn-default btn-xs" ng-click="dashboard.chartMoveDown($parent.$index, $index)"><span\n                                            class="fa fa-arrow-circle-down"></span></a>\n                                    <a class="btn btn-default btn-xs" ng-click="dashboard.chartMoveLeft($parent.$index, $index)"><span\n                                            class="fa fa-arrow-circle-left"></span></a>\n                                    <a class="btn btn-default btn-xs" ng-click="dashboard.chartMoveRight($parent.$index, $index)"><span\n                                            class="fa fa-arrow-circle-right"></span></a>\n\n                                    <span class="dropdown" data-uib-dropdown on-toggle="toggled(open)">\n                                      <a class="btn btn-danger btn-xs" data-uib-dropdown-toggle><span class="fa fa-trash-o"></span></a>\n                                      <ul class="dropdown-menu">\n                                          <li><a href>No</a></li>\n                                          <li><a href ng-click="dashboard.columnRemove($parent.$index, $index)">Yes</a></li>\n                                      </ul>\n                                    </span>\n\n                                </div>\n\n                            </div>\n\n                        </div>\n                    </div>\n\n                    <a class="btn btn-info btn-xs" ng-click="dashboard.rowAdd()"><span class="fa fa-plus-circle"></span> Add row</a>\n                </form>\n\n\n                <permissions-form resource="dashboard.resource" current-permissions="dashboard.resource.current_permissions"\n                                  possible-permissions="dashboard.resource.possible_permissions" ng-if="dashboard.resource.resource_id"></permissions-form>\n            </div>\n        </div>\n    </div>\n'),a.put("/ae_charting_ee/templates/dashboards/index.html",'<div class="row">\n    <div class="col-sm-3" id="menu">\n\n        <div class="panel panel-default">\n            <div class="panel-heading">Manage dashboards</div>\n            <ul class="list-group">\n                <li class="list-group-item"><a data-ui-sref="dashboard.update({resourceId:\'new\'})"><span class="fa fa-plus-circle"></span> Create dashboard</a></li>\n            </ul>\n        </div>\n    </div>\n\n\n\n    <div class="col-sm-9" ng-if="dashboards.loading.dashboard === true">\n        <ng-include src="\'templates/loader.html\'"></ng-include>\n    </div>\n\n    <div class="col-sm-9" ng-if="!dashboards.loading.dashboard">\n\n\n        <div class="alert alert-success">You can create business intelligence dashboards here, they are generated from your application log data or custom data you send to AppEnlight via our <strong>logging api</strong></a>.\n            With the help of tags you can create all kinds of information charts for your organization\n        </div>\n\n        <div class="panel panel-default">\n\n            <div class="panel-heading">Owned Dashboards</div>\n\n            <table class="table table-striped">\n                <thead>\n                <tr>\n                    <th class="resource_name">Resource Name</th>\n                    <th class="options">Options</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr ng-repeat="dashboard in dashboards.owned_dashboards">\n                    <td>{{dashboard.resource_name}}</td>\n                    <td>\n                        <a class="btn btn-default btn-sm" data-ui-sref=\'dashboard.view({resourceId: dashboard.uuid})\'\n                           data-uib-tooltip="View dashboard"><span class="fa fa-area-chart"></span> View</a>\n                        <a class="btn btn-default btn-sm" data-ui-sref=\'dashboard.update({resourceId: dashboard.resource_id})\'\n                           data-uib-tooltip="Update dashboard"><span class="fa fa-cog"></span> Update</a>\n                        <a class="btn btn-sm" ng-class="{\'btn-default\': !dashboard.public, \'btn-success\': dashboard.public}"\n                           data-uib-tooltip="Set dashboard visibility to {{dashboard.public? \'PRIVATE\': \'PUBLIC\'}}"\n                           ng-click="dashboards.markPublic(dashboard)"><span class="fa fa-eye"></span></a>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n\n        </div>\n\n        <div class="panel panel-default">\n\n            <div class="panel-heading">Dashboards shared with you</div>\n\n            <table class="table table-striped">\n                <thead>\n                <tr>\n                    <th class="resource_name">Resource Name</th>\n                    <th class="options">Options</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr ng-repeat="dashboard in dashboards.viewable_dashboards">\n                    <td>{{dashboard.resource_name}}</td>\n                    <td>\n                        <a class="btn btn-default btn-sm" data-ui-sref=\'dashboard.view({resourceId: dashboard.uuid})\' data-uib-tooltip="View dashboard"><span class="fa fa-area-chart"></span> View</a>\n                    <span ng-if="dashboard.permissions.indexOf(\'update\') !== -1">\n                    <a class="btn btn-default btn-sm" data-ui-sref=\'dashboard.update({resourceId: dashboard.resource_id})\' data-uib-tooltip="Update dashboard"><span class="fa fa-cog"></span> Update</a>\n                    <a class="btn btn-sm" ng-class="{\'btn-default\': !dashboard.public, \'btn-success\': dashboard.public}" data-uib-tooltip="Set dashboard visibility to {{dashboard.public? \'PRIVATE\': \'PUBLIC\'}}"\n                       ng-click="dashboards.markPublic(dashboard)"><span class="fa fa-eye"></span></a>\n                    </span>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>\n'),a.put("/ae_charting_ee/templates/dashboards/parent_view.html","<div ui-view></div>"),a.put("/ae_charting_ee/templates/dashboards/view.html",'<ng-include src="\'templates/loader.html\'" ng-if="dashboard.loading.dashboard"></ng-include>\n\n<div ng-if="dashboard.loading.dashboard === false">\n\n    <div class="pull-right">\n        <a class="btn btn-default btn-sm"\n           ng-if="stateHolder.AeUser.hasContextPermission(\'update\', dashboard.resource.current_permissions)"\n           data-ui-sref=\'dashboard.update({resourceId: dashboard.resource.resource_id})\'\n           data-uib-tooltip="Update dashboard"><span class="fa fa-cog"></span> Update</a>\n\n            <span class="dropdown" data-uib-dropdown on-toggle="toggled(open)" auto-close="disabled" ng-if="dashboard.resource.public">\n                <a class="btn btn-success btn-sm" data-uib-dropdown-toggle><span class="fa fa-link"></span></a>\n              <ul class="dropdown-menu">\n                  <li>\n                      <div class="panel-body">\n                          <strong>Public url:</strong>\n                          <input type="text" class="form-control" value="{{dashboard.resource.public_url}}" style="width: 600px" onclick="select()" readonly="readonly">\n                      </div>\n                  </li>\n              </ul>\n            </span>\n\n    </div>\n\n    <h1 class="text-center m-t-0">{{dashboard.resource.resource_name}}</h1>\n\n    <div class="row" ng-repeat="row in dashboard.resource.layoutConfig">\n        <h4 class="text-center">{{row.name}}</h4>\n        <div ng-repeat="column in row.columns" class="col-sm-{{column.width}}">\n            <div class="panel panel-default">\n                <div class="panel-heading">\n                    {{dashboard.resource.chartData[column.chartId].name}}\n                    <span ng-show="dashboard.resource.chartData[column.chartId].refreshing" class="fa fa-2x fa-spinner pull-right fa-spin"></span>\n                </div>\n\n                <div class="panel-body text-center">\n                    <ng-include src="\'templates/loader.html\'" ng-if="dashboard.resource.chartData[column.chartId].loading === true"></ng-include>\n\n                    <c3chart ng-if="dashboard.resource.chartData[column.chartId].loading === false"\n                             update="true"\n                             data-domid="id_{{column.chartId}}"\n                             data-data="dashboard.resource.chartData[column.chartId].data"\n                             data-config="dashboard.resource.chartData[column.chartId].config">\n                    </c3chart>\n                </div>\n\n            </div>\n\n        </div>\n    </div>\n\n</div>\n\n'),a.put("/ae_charting_ee/templates/directives/chart_alert_action.html",'<div class="panel panel-default action">\n    <div class="panel-body form-inline">\n        <div>\n            <p>{{ ctrl.action.name }}</p>\n            <p><strong>Channels:</strong></p>\n            <ul class="list-group">\n                <li class="list-group-item" ng-repeat="channel in ctrl.action.channels">\n                    <strong>{{channel.channel_visible_value}}</strong>\n                    <div class="pull-right">\n                        <span class="dropdown" data-uib-dropdown>\n                            <a class="btn btn-danger btn-xs" data-uib-dropdown-toggle><span class="fa fa-trash-o"></span></a>\n                              <ul class="dropdown-menu">\n                                  <li><a>No</a></li>\n                                  <li><a ng-click="ctrl.unBindChannel(channel)">Yes</a></li>\n                              </ul>\n                        </span>\n                    </div>\n                </li>\n            </ul>\n            <div class="form-group" ng-if="ctrl.possibleChannels.length">\n                <select class="form-control" ng-model="ctrl.channelToBind" ng-options="c as c.channel_visible_value for c in ctrl.possibleChannels |filter: c.supports_report_alerting"></select>\n                <a class="btn btn-info" ng-click="ctrl.bindChannel(channel, ctrl.action)"><span class="fa fa-plus-circle"></span> Add Channel</a>\n            </div>\n            <div class="alert alert-danger" ng-if="!ctrl.possibleChannels.length">\n                <span class="fa fa-exclamation-triangle "></span>You need to create an alert channel before you can assign it to your rule.\n            </div>\n\n        </div>\n\n        <rule-read-only rule="ctrl.action.rule" rule-definitions="ctrl.ruleDefinitions" parent-rule="null" parent-obj="ctrl.action"></rule-read-only>\n\n\n        <div class="text-right">\n            <span class="dropdown" data-uib-dropdown>\n                <a class="btn btn-danger" data-uib-dropdown-toggle><span class="fa fa-trash-o"></span></a>\n                  <ul class="dropdown-menu">\n                      <li><a>No</a></li>\n                      <li><a ng-click="ctrl.deleteAction(ctrl.action)">Yes</a></li>\n                  </ul>\n            </span>\n        </div>\n\n    </div>\n</div>\n')}]),angular.module("appenlight.plugins.ae_charting_ee",["appenlight.plugins.ae_charting_ee.directives"]).config(["$stateProvider",function(a){a.state("dashboard",{"abstract":!0,url:"/ui/dashboard",templateUrl:"/ae_charting_ee/templates/dashboards/parent_view.html"}),a.state("dashboard.list",{url:"",templateUrl:"/ae_charting_ee/templates/dashboards/index.html",controller:"DashboardsIndexController as dashboards"}),a.state("dashboard.view",{url:"/:resourceId",templateUrl:"/ae_charting_ee/templates/dashboards/view.html",controller:"DashboardController as dashboard"}),a.state("dashboard.chart",{url:"/:resourceId/updateChart/:chartId",templateUrl:"/ae_charting_ee/templates/dashboards/chart_update.html",controller:"DashboardChartUpdateController as chart"}),a.state("dashboard.chart_alert",{url:"/:resourceId/updateChartAlert/:chartId",templateUrl:"/ae_charting_ee/templates/dashboards/alert_create.html",controller:"DashboardChartAlertCreateController as alert_ctrlr"}),a.state("dashboard.update",{url:"/:resourceId/update",templateUrl:"/ae_charting_ee/templates/dashboards/dashboard_update.html",controller:"DashboardUpdateController as dashboard"})}]).run(["stateHolder",function(a){}]),angular.module("appenlight.controllers").controller("DashboardChartAlertCreateController",DashboardChartAlertCreateController),DashboardChartAlertCreateController.$inject=["$state","chartResultParser","dashboardsResource","chartsPropertyResource","chartEventRulesNoIdResource","userSelfPropertyResource"],angular.module("appenlight.controllers").controller("DashboardChartUpdateController",DashboardChartUpdateController),DashboardChartUpdateController.$inject=["$state","$uibModal","_","chartResultParser","dashboardsResource","chartsResource","chartsPropertyResource","sectionViewResource","stateHolder","AeConfig"],angular.module("appenlight.controllers").controller("chartUpdateJSONConfigCtrl",chartUpdateJSONConfigCtrl),chartUpdateJSONConfigCtrl.$inject=["$uibModalInstance","parent"],angular.module("appenlight.controllers").controller("DashboardsIndexController",DashboardsIndexController),DashboardsIndexController.$inject=["dashboardsResource","dashboardsPropertyResource"],angular.module("appenlight.controllers").controller("DashboardUpdateController",DashboardUpdateController),DashboardUpdateController.$inject=["$state","stateHolder","UUIDProvider","_","chartResultParser","dashboardsResource","dashboardsNoIdResource","chartsPropertyResource"],angular.module("appenlight.controllers").controller("DashboardController",DashboardController),DashboardController.$inject=["$scope","$interval","$state","chartResultParser","chartsPropertyResource","dashboardsResource"],angular.module("appenlight.plugins.ae_charting_ee.directives",[]).directive("chartAlertAction",["userSelfPropertyResource",function(a){function b(){var b=this;b.bindChannel=function(){var c={channel_pkey:b.channelToBind.pkey,action_pkey:b.action.pkey};a.save({key:"alert_channels_actions_binds"},c,function(a){b.action.channels=[],b.action.channels=a.channels},function(a){422==a.status})},b.unBindChannel=function(c){a["delete"]({key:"alert_channels_actions_binds",channel_pkey:c.pkey,action_pkey:b.action.pkey},function(a){b.action.channels=[],b.action.channels=a.channels},function(a){422==a.status})},b.possibleChannels=_.filter(b.possibleChannels,function(a){return a.supports_report_alerting}),b.possibleChannels.length>0&&(b.channelToBind=b.possibleChannels[0]),b.deleteAction=function(c){var d={key:"alert_channels_rules",pkey:c.pkey};a.remove(d,function(a){b.actions.splice(b.actions.indexOf(c),1)})}}return{scope:{},bindToController:{action:"=",applications:"=",possibleChannels:"=",actions:"=",ruleDefinitions:"="},restrict:"E",templateUrl:"/ae_charting_ee/templates/directives/chart_alert_action.html",controller:b,controllerAs:"ctrl"}}]),angular.module("appenlight.services.resources").factory("dashboardsNoIdResource",["$resource","AeConfig",function(a,b){return a(b.urls.plugins.ae_charting_ee.dashboardsNoId,null,angular.copy(DEFAULT_ACTIONS))}]),angular.module("appenlight.services.resources").factory("dashboardsPropertyResource",["$resource","AeConfig",function(a,b){return a(b.urls.plugins.ae_charting_ee.dashboardsProperty,null,angular.copy(DEFAULT_ACTIONS))}]),angular.module("appenlight.services.resources").factory("dashboardsResource",["$resource","AeConfig",function(a,b){return a(b.urls.plugins.ae_charting_ee.dashboards,null,angular.copy(DEFAULT_ACTIONS))}]),angular.module("appenlight.services.resources").factory("chartsNoIdResource",["$resource","AeConfig",function(a,b){return a(b.urls.plugins.ae_charting_ee.chartsNoId,null,angular.copy(DEFAULT_ACTIONS))}]),angular.module("appenlight.services.resources").factory("chartsPropertyResource",["$resource","AeConfig",function(a,b){return a(b.urls.plugins.ae_charting_ee.chartsProperty,null,angular.copy(DEFAULT_ACTIONS))}]),angular.module("appenlight.services.resources").factory("chartsResource",["$resource","AeConfig",function(a,b){return a(b.urls.plugins.ae_charting_ee.charts,null,angular.copy(DEFAULT_ACTIONS))}]),angular.module("appenlight.services.resources").factory("chartEventRulesNoIdResource",["$resource","AeConfig",function(a,b){return a(b.urls.plugins.ae_charting_ee.chartsEventRulesNoId,null,angular.copy(DEFAULT_ACTIONS))}]),angular.module("appenlight.services.resources").factory("chartEventRulesResource",["$resource","AeConfig",function(a,b){return a(b.urls.plugins.ae_charting_ee.chartsEventRules,null,angular.copy(DEFAULT_ACTIONS))}]);